<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DuckerChat</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="public/css/style.css" />
  </head>
  <body class="bg-dark text-white">
    <!-- Tela de nickname -->
    <div id="nickname-screen" class="vh-100 d-flex flex-column justify-content-center align-items-center">
      <h1 class="mb-3">DuckerChat ü¶Ü</h1>
      <input type="text" id="nickname-input" class="form-control w-75 mb-3" placeholder="Digite seu nickname" />
      <button id="enter-chat" class="btn btn-primary">Entrar no Chat</button>
    </div>

<!-- Tela do chat -->
<div id="chat-screen" class="vh-100 d-none flex-column position-relative">
    <div class="d-flex flex-grow-1">
      <!-- Mensagens -->
      <div class="flex-grow-1 overflow-auto p-3 d-flex flex-column" id="chat-messages"></div>
  
      <!-- Lista de usu√°rios -->
      <div id="online-users" class="bg-dark text-white p-3" style="width: 250px; overflow-y: auto;">
        <h5>Usu√°rios Online</h5>
        <ul id="user-list" class="list-unstyled mb-0"></ul>
      </div>
    </div>
  
    <!-- Input de mensagem -->
    <div class="input-group p-2 border-top bg-secondary">
      <input type="text" id="message-input" class="form-control" placeholder="Digite sua mensagem..." />
      <button id="send-message" class="btn btn-light">Enviar</button>
    </div>
  
    <!-- Bot√£o sair -->
    <button id="leave-session" class="btn btn-outline-light position-absolute top-0 end-0 m-2">
      Sair da sess√£o
    </button>
  </div>
  

  <script type="module">
    fetch("/config")
      .then((res) => res.json())
      .then((config) => {
        window._FIREBASE_CONFIG = config;
        const script = document.createElement("script");
        script.type = "module";
        script.src = "public//js/chat.js";
        document.body.appendChild(script);
      });
  </script>
  
  </body>
</html>
